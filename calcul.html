<!DOCTYPE html>
<html lang="en">
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Calcul Mental - French International School Hong Kong</title>

	<!-- Favicons -->
	<link rel="icon" type="image/png" href="img/favicon.png" />	
	
	<script type="text/javascript" src="js/library/object.js"></script>
	<script type="text/javascript" src="js/config/user-settings.js"></script>
	<script type="text/javascript" src="js/config/system-settings.js"></script>
	<script type="text/javascript" src="js/jquery/jquery-1.js"></script>
	<script type="text/javascript" src="js/jquery/jquery.js"></script>
	<link rel="stylesheet" type="text/css" href="css/layout.css">	
	
	<!-- Bootstrap -->
	<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

	<script type="text/javascript">
	$(document).ready(function()
	{
		var IsLoadMaths; var IsLoadInput; var IsLoadLayout; var IsLoadTimer; var IsLoadDictionnary; var IsLoadAction;
		IsLoadMaths = IsLoadInput = IsLoadLayout = IsLoadTimer =  IsLoadDictionnary = IsLoadAction = false;

		function StartGameOnceLoad()
		{
			if(IsLoadMaths && IsLoadInput && IsLoadLayout && IsLoadTimer &&  IsLoadDictionnary && IsLoadAction)
		{
			Run({'mode':'step1'});
		}else
		{
			$('#box-message').html('loading');
		}
		}
		//loading library that are using jquery        	
		$.getScript('js/library/maths.lib.js?' + new Date().getTime(), function() { IsLoadMaths=true; StartGameOnceLoad();  });
		$.getScript('js/library/input.lib.js?' + new Date().getTime(), function() { IsLoadInput=true; StartGameOnceLoad();  });
		$.getScript('js/library/layout.lib.js?' + new Date().getTime(), function() { IsLoadLayout=true; StartGameOnceLoad();  });
		$.getScript('js/config/timer-settings.js?' + new Date().getTime(), function() { IsLoadTimer=true;StartGameOnceLoad();  });
		$.getScript('js/translation/dictionnary.fr.js?' + new Date().getTime(), function() { IsLoadDictionnary=true; StartGameOnceLoad();  });
		$.getScript('js/library/action.lib.js?' + new Date().getTime(), function() {IsLoadAction=true; StartGameOnceLoad();  });
	});
	/*
	@ todo   check french characteer    ok
	add key                    ok
	first letter capital       ok (done for name, to be done in step 2)
	close answer window button ok
	name player too long?      ok
	check 2 player same name   ok
	multiplayer: reset score after game?      yes  
	improve design and + window answer
	add comment to object lib and input lib
	add button instead of drop down for level
	success game               approx
	option editer score pour mode multi partie
	bouton nouvelle partie tout le temps
	selection du joeur seul par defaut dans fenetre reponse  ok
	reply for division worng
	*/
	</script>
	
	</head>
	<body>

			<div id="menu"></div>
			
			<div class="container">

					<div class="row">
						<div class="col-md-4"><img src="http://www.fis.edu.hk/images/web2/logoflower.png" height="80px"></div>
						<div class="col-md-4 text-center">
							<br />
							<img src="img/logo_mccmt.png">
						</div>
						<div class="col-md-4 text-right"><img src="img/logo-aefe.jpg" width="90px"></div>
					</div> 
					<div id="box-message" class="error"></div>  
					<div id="header" class="title1"></div>
					
					<div class="row">
						<div id="body"></div>
					</div>
					
					<div class="row">
						<div id="footer"></div>
					</div>
				
				<div style="display: none;" id="flag-langage">
					<button onClick="LT_ChangeLangage('fr');" class="language-flag">
						<img src="img/fr.jpg"></button><button onClick="LT_ChangeLangage('en');" class="language-flag"><img src="img/us-en.jpg">
					</button>
				</div>
			
			</div>

		<!-- Popup window for answering -->
		<div id="box-popup"></div>

		<!-- System data - these inputs are not used anymore, changed to variable -->
		<div id="div-system">
			<!-- current level played -->
			<input id="system_level" type="hidden">
			<!-- number of player of current game -->
			<input id="system_number_player" type="hidden">
			<!-- current question index in level question array -->
			<input id="system_round" type="hidden">
			<!-- current question answer -->
			<input id="system_result" type="hidden">
			<!-- flag telling if a question is currently active and open for answer --> 
			<input id="system_active_question" value="1" type="hidden">
			<!-- flag telling if game is win --> 
			<input id="system_game_win" type="hidden">

			<input id="system_game_mode" type="hidden">
		</div>

		<div style="display: none;" id="box-win"></div>
		<div id="log"></div>
		
		<script type="text/javascript">
		function saisie(val){
		document.forms["virtual"]["text"].value += val;
		$(document).one(Run({'mode':'answer'}));
		
		}
		function back(){
			value = document.forms["virtual"]["text"].value;
			newvalue = value.substring(0, value.length - 1);
			document.forms["virtual"]["text"].value = newvalue;
		}
		function reset(){
		document.forms["virtual"]["text"].value = "";
		}
		</script>	

		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>-->
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="bootstrap/js/bootstrap.min.js"></script>
	</body>
</html>
